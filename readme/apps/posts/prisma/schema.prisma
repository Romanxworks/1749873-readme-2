// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  output = "../../../node_modules/.prisma/client"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Post {
 id             Int @id @default(autoincrement())
 userId         String
 state          String @default("draft")
 title          String? @default("")
 tags           Tag[]
 comments       Comment[]
 images         String[] @default([])
 isRepost       Boolean @default(false)
 primaryId      Int @default(0)
 primaryAuthor  String @default("")
 likesCount     Int @default(0)
 repostsCount   Int @default(0)
 commentCount   Int @default(0)
 type           String @default("citation")
 citation       String? @default("")
 author         String? @default("")
 image          String? @default("")
 reference      String? @default("")
 description    String? @default("")
 preview        String? @default("")
 linkVideo      String? @default("")
 content        String? @default("")
 createdAt      DateTime @default(now())
 publishAt      DateTime @default(now())
}

model Tag {
  id           Int @id @default(autoincrement())
  title        String
  posts        Post[]
}

model Comment {
  id          Int @id @default(autoincrement())
  userId      String
  createdAt   DateTime @default(now())
  content     String
  post        Post @relation(fields: [postId], references: [id])
  postId      Int
}